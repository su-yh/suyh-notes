

- ## 简介
    - > ..

- ## 分布式所带来的问题
    - > 死锁
    - > 活锁
        >>  线程之间相互谦让资源，导致资源没人获取。
    - > 需要确定一个管理节点
    - > 管理节点存在单点故障

- ## ZooKeeper


- ## ZAB 协议
    - > ZAB 是专门为ZooKeeper 设计的协议，基于2PC 算法和PAXOS 来进行的设计
        - ### 2PC - Two Phase Commit
        - > 2阶段提交，将请求的提交过程分为2个阶段
            >> - 核心思想：一票否决
        - > 确认阶段
            >> - 协调者收到请求之后会将请求去分发给每一个参与者，等待每一个参与者反馈的信息
        - > 执行/中止阶段
            >> - 如果协调者收到所有参与者的消息，并且所有消息都是YES，则协调者就会命令每一个参与者执行这个请求
            >> - 如果协调者收到了一个及以上的NO，或者协调者没有收到全部参与者的YES，则协调者认为这个请求不能执行，命令所有的参与者中止执行这个请求。
        - ### paxos 算法
            >> - PAXOS 用于在不稳定的集群中有效的决定某个请求的执行的场景。
    - > 两部分: 原子广播 和 崩溃恢复(leader 挂了之后选举出一个新leader)
        - ### 原子广播
        - > 解决的是信息的共享
        - > 原子广播的流程
        - > 如果一个节点新连入集群，这个节点会找这个集群中的leader，比较两者的最大事务ID，然后LEADER 会将新节点所缺的请求放入一个队列中发给新节点，新节点收到队列 之后再从队列中依次取出，
        - ### 崩溃恢复
        









