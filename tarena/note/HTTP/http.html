<!DOCTYPE HTML>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>HTTP 协议</title>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="../NoteMain.css" type="" media=""/>
        <script src="../10_JQuery/code/js/jquery-1.4.2.js"></script>
        <script src="../NoteMain.js"></script>
        <script type="text/javascript">
            window.onload = function() {
                init();
            }
        </script>
    </head>
    <body>
        <h1>HTTP 协议</h1>
        <div id="divBoss">

            <p class="linkStair">HTTP 简介</p>
            <div>
                <p>HTTP 协议规定了浏览器和服务器之间通信的规则(格式，协议)，规定了浏览器发送请求信息时该 什么样的格式 ，也规定了服务器在响应数据时该符合什么样的格式。</p>
                <p>HTTP 协议中包括两部分内容: HTTP 请求信息，即浏览器向服务器放的请求信息，和HTTP 响应信息，即向浏览器做出的响应信息。</p>
            </div>
            <p>HTTP 协议的<span class="linkStair">基本原则</span></p>
            <div>
                <p>1. 基于请求响应模型</p>
                <p>2. 一次请求对应一次响应</p>
                <p>3. 请求只能由客户端发出，服务器只能被动的等待请求做出回应。</p>
            </div>

            <p class="linkStair">HTTP 请求</p>
            <div>
                <p>(1) 请求行(需要重点关注): GET /index.html HTTP/1.1</p>
                <div>
                    <p>GET: 请求方式，常用的有GET 请和POST 请求</p>
            		<p>/index.html: 请求资源路径</p>
            		<p>HTTP/1.1: 请求所遵循的协议及版本</p>
                </div>
                <p>(2) 若干<span class="linkStair">请求头: </p>
                <div id="divStairIdRequestHead" class="divStair">
                    <p class="comment">-- 通知服务器当前浏览器可以接受哪些格式的数据</p>
                    <p>Accept: text/html,image/*</p>
                    <p class="comment">-- 浏览器可以接受的字符集编码</p>
                    <p>Accept-Charset: ISO-8859-1</p>
                    <p class="comment">-- 浏览器可以接受的压缩格式</p>
                    <p>Accept-Encoding: gzip,compress</p>
                    <p class="comment">-- 需要访问的虚拟主机的名称</p>
                    <p>!Host: www.tedu.cn:80</p>
                    <p class="comment">-- 这是和防盗链相关的头，对当前资源的访问来自哪个页面的超链接</p>
                    <p>!!Referer: http://www.tedu.cn/index.jsp</p>
                    <p class="comment">-- 客户端的基本信息</p>
                    <p>User-Agent: Mozilla/4.0 (compatible, MSIE 5.5; Windows)</p>
                    <p class="comment">-- 和cookei 相关的头</p>
                    <p>!!!Cookie(后面讲)</p>
                    <p class="comment">-- 是否继续保持连接</p>
                    <p>Connection: close/Keep-Alive</p>
                    <p class="comment">-- 当前发送请求的时间</p>
                    <p>Date: Fri, 17 Feb 2017 18:23:51 GMT</p>
                </div>
                <p>(3) 请求实体内容: </p>
                <div>
            		<p>如果请求方式为GET 提交，请求实体中是没有任何数据的</p>
            		<p>如果请求方式为POST 提交，并且发送请求时，携带了数据，请求实体内容中才会有数据</p>
                </div>
            </div>

            <p class="linkStair">HTPP 响应</p>
            <div>
            	<p>(1) 状态行: 响应遵循的协议及版本、状态码、描述信息</p>
            	<div>
                	<p>HTTP/1.1 200 OK</p>
                	<p>HTTP.1.1: 服务器做出响应时遵循的协议及版本</p>
            		<p>200: 状态码，一个三位的数字，表示请求处理的结果</p>
            		<p class="linkStair">常见状态码</p>
            		<div>
            			<p>200: 表示服务器处理成功的处理了请求</p>
            			<p>302: 和location 响应头配合实现请求重定向</p>
            			<p>304： 表示通知浏览器使用本地缓存</p>
            			<p>404: 表示客户端 请求的资源 不存在 </p>
            			<p>500: 表示服务器错误(服务器处理请求的过程中抛出了异常)</p>
            	    </div>
            	    <p>OK: 描述短语，也是用来表示服务器处理请求的结果</p>
            	</div>
            	<p>(2) 若干响应头</p>
                <p class="linkStair">常见响应头及其功能</p>
                <div>
                    <p class="comment">-- 配合302 使用实现请求重定向<p>
                    <p>!!!Location: http://www.tedu.cn/index.jsp<p>
                    <p class="comment">-- 服务器的基本信息<p>
                    <p>Server: apache tomcat<p>
                    <p class="comment">-- 服务器发送的数据使用的压缩格式<p>
                    <p>Content-Encoding: gzip<p>
                    <p class="comment">-- 服务器发送的数据的大小<p>
                    <p>Content-Length: 80<p>
                    <p class="comment">-- 服务器发送的数据是什么格式的，如果是字符格式的数据<p>
                    <p>!!!Content-Type: text/html; charset=GB2312<p>
                    <p class="linkStair">常见格式</p>
                    <div>
            			<p>Content-Type:text/html 服务器响应的是一个HTML 的网页</p>
            			<p>Content-Type:image/jpeg 响应的是一个jpg 格式的图片</p>
            			<p>Content-Type:image/png 响应的是一个png 格式的图片</p>
            			<p>Content-Type:image/gif 响应的是一个gif 格式的图片</p>
            			<p>Content-Type:image/ico 响应的是一个ico 格式的图片</p>
            		</div>
                    <p class="comment">-- 定时刷新相关的头，通知浏览器，过几秒后自动刷新访问哪一个网页<p>
                    <p>!!Refresh: 1;url=http://www.tedu.cn<p>
                    <p class="comment">-- 通知浏览器以附件的形式打开发送过去的数据，是和文件下载相关的<p>
                    <p>Content-Disposition: attachment; filename=aaa.zip<p>
                    <p class="comment">-- 和Cookie 相关的头<p>
                    <p>!!!Set-Cookie: SS=Q0=5Lb_n!; path=/search<p>
                    <p class="comment">-- 之所以一个功能有三个头，是因为历史原因。所以为了网页的兼容性，通常这三个头要一起使用<p>
                    <p class="comment"> -- 通知浏览器是否缓存<p>
                    <p>!Expires: -1<p>
                    <p class="comment">-- 通知浏览器是否缓存<p>
                    <p>!Cache-Control: no-Cache<p>
                    <p class="comment">-- 通知浏览器是否缓存<p>
                    <p>!Pragma: no-Cache<p>
                    <p class="comment">-- 是否保持连接<p>
                    <p>Connection: close/Keep-Alive<p>
                    <p class="comment">-- 当前发送请求的时间<p>
                    <p>Date: Fri, 17 Feb 2017 18:23:51 GMT<p>
                </div>
            	<p>(3) 响应实体, 在浏览器中实际展示的内容</p>
            </div>

            <p class="linkStair">向客户端浏览器响应网页文件</p>
            <div>
            	<p>1. 在webapps 目录下，编写一个index.html 文件</p>
            	<p>2. 向客户端浏览器响应网页文件(index.html)</p>
            	<p>3. 获取浏览器发送的请求信息，解析出浏览器请求的资源 文件</p>
            	<p>4. 向浏览器响应指定的资源文件</p>
            </div>
        </div>
    </body>
</html>

