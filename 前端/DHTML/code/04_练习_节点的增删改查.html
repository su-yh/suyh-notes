<!DOCTYPE HTML>
<html>
    <head>
        <title>增删改查</title>
        
        <meta charset="UTF-8" />
        <style type="text/css">
            div {
                border: 1px solid #999;
                height: 100px;
                width: 200px;
                margin-top: 20px;
            }
            #div_2 {
                background-color: yellow;
            }
            #div_3 {
                background-color: red;
            }
            #div_4 {
                background-color: pink;
            }
        </style>
        <script type="text/javascript">
            var i = 1;
            /* 添加节点: 添加一个div 元素到body 的最后面 */
            function addNode() {
                // 1. 创建一个新的div 元素
                var oNewDiv = document.createElement("div");
                // 为div 设置HTML 内容
                oNewDiv.innerHTML = "我是新来的";

                // 2. 获取父元素(body)
                // var arrBody = document.getElementsByTagName("body");
                // var oBody = arrBody[0];
                var oBody = document.body;  // 通过属性直接获取body 元素

                // 3. 将div 元素挂载到body上
                oBody.appendChild(oNewDiv);
            }

            /* 删除节点 */
            function deleteNode() {
                // 1. 获取将要被删除的元素
                var oDiv_3 = document.getElementById("div_3");

                // 2. 获取父元素(body)
                oBody_2 = oDiv_3.parentNode;  // 这里为什么不用声明 var oBody 呢？

                // 3. 通过父元素删除子元素(解除父子关系)
                oBody_2.removeChild(oDiv_3);
            }

            /* 更新节点: 用新节点替换id 值为div_2 的div 元素 */
            function updateNode() {
                // 1. 创建一个新的div 元素
                oNewDiv_2 = document.createElement("div");
                oNewDiv_2.innerHTML = "我是来替换的...";

                // 2. 获取div_2 元素(将要被替换的元素)
                var oDiv_2 = document.getElementById("div_2");

                // 3. 获取div_2 元素的父元素
                var oBody = oDiv_2.parentNode;

                // 4. 通过父元素将已有的子元素替换为新的元素
                oBody.replaceChild(oNewDiv_2, oDiv_2);
            }

            /* 克隆节点、插入节点到指定元素前面 */
            function copyNode() {
                // 1. 获取将要被克隆的元素(div_4)
                var oDiv_4 = document.getElementById("div_4");

                // 2. 克隆div_4 元素
                var oCloneNode = oDiv_4.cloneNode(true);    // 如果给出参数为true ，则克隆元素同时包括内部数据，如果不给出参数则只克隆元素

                // 3. 将克隆的元素追加到body 元素的内部
                // document.body.appendChild(oCloneNode);

                // 4. 将克隆的元素插入到div_2 元素的前面
                var oDiv_2 = document.getElementById("div_2");
                oDiv_2.parentNode.insertBefore(oCloneNode, oDiv_2); // 将新元素插入到oDiv_2子元素的前面
            }
        </script>
    </head>
    <body>
        <div id="div_1">
            
        </div>
        <div id="div_2">
            div 区域2
        </div>
        <div id="div_3">
            div 区域3
        </div>
        <div id="div_4">
            div 区域4
        </div>

        <hr />
        <input type="button" value="创建并添加节点" onclick="addNode()" />
        <input type="button" value="删除节点" onclick="deleteNode()" />
        <input type="button" value="替换节点" onclick="updateNode()" />
        <input type="button" value="克隆节点" onclick="copyNode()" />
    </body>
</html>


