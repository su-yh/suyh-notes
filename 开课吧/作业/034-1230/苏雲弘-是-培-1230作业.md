## 作业内容：

### 任务1：用你的理解描述SpringCloudConfig和NacosConfig工作原理

> - SpringCloudConfig原理
>
>   > - 一份配置多处使用
>   >
>   > - 配置变更同步
>   >
>   >   > 1. 提交配置触发post请求给server 端的bus/refresh 接口
>   >   > 2. server 端接收到请求并发送给SpringCloudBus总线
>   >   > 3. SpringCloudBus接收到消息并通知给其他微服务
>   >   > 4. 收到通知的微服务，到配置中心获取 最新配置
>
> - NacosConfig原理
>
>   > - 一份配置多处使用
>   >
>   > - 配置变更同步
>   >
>   >   > 1. 微服务长轮训请求
>   >   > 2. 服务端收到请求以后，如果数据有更新则直接返回，否则会做一个调度，在30秒之后再做比较
>   >   > 3. 服务端开启事件监听，一旦有配置变更，则进行主动推送配置给微服务。

### 任务2：多环境配置文件主要有哪几种环境？

> - local
> - dev
> - test
> - sit
> - uat
> - prod

### 任务3：三机房部署，机房断网有几种情况？那些情况下会出现脑裂问题

> 不管几机房部署，只要有过半选举机制则永远不会出现脑裂。
>
> 如果没有过半选举机制，则Leader 所在的机房与其他机房发生了网络断开，则其他机房会选出一个新Leader，这时就产生了脑裂情况。
>
> 一句话，有总节点过半选举机制，则不会出现脑裂。没有，则有可能出现脑裂现象。

